{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { NavigationEvents } from 'react-navigation';\nimport NavLink from \"../components/NavLink\";\nimport Api from \"../api/apiInstance\";\nimport * as SecureStore from 'expo-secure-store';\nimport { Card, ListItem, Button, Icon } from 'react-native-elements';\n\nfunction RecipeDetails() {\n  var token = SecureStore.getItemAsync(\"accessToken\");\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      price = _useState4[0],\n      setPrice = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      ingredients = _useState8[0],\n      setIngredients = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      imageUrl = _useState10[0],\n      setImageUrl = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      recipeItems = _useState12[0],\n      setRecipeItems = _useState12[1];\n\n  useEffect(function () {\n    Api().get('recipes/?recipeId=' + '6184781d533568e45cdbc19c', {\n      headers: {\n        authorization: \"Bearer \" + token,\n        accept: \"application/json\"\n      }\n    }).then(function (response) {\n      console.log(\"response.data: \", response.data);\n      setName(response.data.recipe.recipeName);\n      setImageUrl(response.data.recipe.recipePhoto);\n      setDescription(response.data.recipe.description);\n      setPrice(response.data.recipe.price);\n      setIngredients(response.data.ingredients);\n      setRecipeItems(response.data.recipe.recipeItem);\n    }).catch(function (e) {});\n  }, []);\n  return React.createElement(Card, {\n    style: styles.container\n  }, React.createElement(Card.Title, null, name), React.createElement(Card.Divider, null), React.createElement(View, null, React.createElement(Image, {\n    style: styles.image,\n    resizeMode: \"cover\",\n    source: {\n      uri: \"https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80\"\n    }\n  }), recipeItems.map(function (recipeItem, index) {\n    return function _callee() {\n      var ingredient;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(ingredients.find(function (ingredient) {\n                return ingredient._id === recipeItem.ingredients;\n              }));\n\n            case 2:\n              ingredient = _context.sent;\n              return _context.abrupt(\"return\", React.createElement(Text, {\n                key: index,\n                style: styles.name\n              }, recipeItem.itemQuantity, \" \", ingredient == null ? void 0 : ingredient.unitType, \" \", ingredient == null ? void 0 : ingredient.name));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n  })));\n}\n\n;\nRecipeDetails.navigationOptions = {\n  header: function header() {\n    return false;\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    width: \"50%\",\n    height: \"50%\",\n    justifyContent: 'center'\n  },\n  recipeImage: {\n    height: 200,\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 50\n  }\n});\nexport default RecipeDetails;","map":{"version":3,"sources":["C:/Users/benwa/Documents/School/Centennial/Semester 6/COMP313/GroceryApp/src/components/RecipeDetails.js"],"names":["React","useContext","useEffect","useState","NavigationEvents","NavLink","Api","SecureStore","Card","ListItem","Button","Icon","RecipeDetails","token","getItemAsync","description","setDescription","price","setPrice","name","setName","ingredients","setIngredients","imageUrl","setImageUrl","recipeItems","setRecipeItems","get","headers","authorization","accept","then","response","console","log","data","recipe","recipeName","recipePhoto","recipeItem","catch","e","styles","container","image","uri","map","index","find","ingredient","_id","itemQuantity","unitType","navigationOptions","header","StyleSheet","create","width","height","justifyContent","recipeImage","alignSelf","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { View, StyleSheet, Text , Image, ImageBackground, Modal } from 'react-native';\r\nimport { NavigationEvents } from 'react-navigation';\r\nimport NavLink from '../components/NavLink';\r\nimport Api from '../api/apiInstance';\r\nimport * as SecureStore from 'expo-secure-store';\r\nimport { Card, ListItem, Button, Icon } from 'react-native-elements'\r\n\r\nfunction RecipeDetails() {\r\n    const token = SecureStore.getItemAsync(\"accessToken\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [ingredients, setIngredients] = useState([]);\r\n    const [imageUrl, setImageUrl] = useState(\"\");\r\n    const [recipeItems, setRecipeItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n    Api()\r\n    .get(\r\n        'recipes/?recipeId='+'6184781d533568e45cdbc19c',\r\n        {\r\n            headers: {\r\n                authorization: \"Bearer \" + token,\r\n                accept: \"application/json\"\r\n            },\r\n        }\r\n    )\r\n    .then((response) => {\r\n        console.log(\"response.data: \", response.data);\r\n        setName(response.data.recipe.recipeName);\r\n        setImageUrl(response.data.recipe.recipePhoto);\r\n        setDescription(response.data.recipe.description);\r\n        setPrice(response.data.recipe.price);\r\n        setIngredients(response.data.ingredients);\r\n        setRecipeItems(response.data.recipe.recipeItem);\r\n    })\r\n    .catch((e) => {\r\n        \r\n    });\r\n    }, [])\r\n\r\n  return (\r\n    <Card style={styles.container}>\r\n        <Card.Title>{name}</Card.Title>\r\n        <Card.Divider/>\r\n            <View>\r\n            <Image\r\n                style={styles.image}\r\n                resizeMode=\"cover\"\r\n                source={{uri: \"https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80\"}}\r\n            />\r\n            {\r\n                recipeItems.map((recipeItem, index) => async function() {\r\n                    let ingredient = await ingredients.find(ingredient => ingredient._id === recipeItem.ingredients)\r\n                    return (\r\n                        <Text key={index} style={styles.name}>\r\n                            {recipeItem.itemQuantity}\r\n                            {\" \"}{ingredient?.unitType}\r\n                            {\" \"}{ingredient?.name}\r\n                        </Text>\r\n                        );\r\n                })\r\n            }\r\n        </View>\r\n    </Card>\r\n  );\r\n};\r\n\r\nRecipeDetails.navigationOptions = {\r\n    header: () => false,\r\n  };\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    // flex: 1,\r\n    width: \"50%\",\r\n    height: \"50%\",\r\n    justifyContent: 'center',\r\n    },\r\n    recipeImage: {\r\n            height: 200,\r\n            width: 200,\r\n            alignSelf: 'center',\r\n            marginTop: 50,\r\n            //backgroundColor: 'black',\r\n    },\r\n});\r\n\r\nexport default RecipeDetails;\r\n"]},"metadata":{},"sourceType":"module"}